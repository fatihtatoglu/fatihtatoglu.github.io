<!DOCTYPE html><html lang="tr"><head><base href="https://blog.tatoglu.net/"><meta charset="UTF-8"><meta name="description" content="Kendi ihtiyacım için geliştirdiğim gulp eklentisi ve bunu yaparken öğrendiklerim ile ilgili bir proje."><meta name="author" content="Fatih Tatoğlu"><link rel="canonical" href="https://blog.tatoglu.net/projects/gulp-html-anchor-rewriter.html"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Fatih Tatoğlu - Gulp HTML Link Düzenleyicisi</title><link rel="stylesheet" href="./css/main.css?v=b5ea8dc3eb5ed5e938a3c8a7f8c095e5"><link rel="stylesheet" href="./css/custom.css?v=b5ea8dc3eb5ed5e938a3c8a7f8c095e5"><script src="./js/main.js?v=b5ea8dc3eb5ed5e938a3c8a7f8c095e5"></script><link rel="apple-touch-icon" sizes="180x180" href="./image/favicon/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="./image/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="./image/favicon/favicon-16x16.png"><link rel="manifest" href="./image/favicon/site.webmanifest"><meta name="yandex-verification" content="31a29a16b97b37a8"><meta name="msvalidate.01" content="578B5091D7C5A2C03BE2EE0DF0CCC024"><script>(function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i+"?ref=bwt";
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "be90zvaif3");</script></head><body><header><span class="site-name">Fatih Tatoğlu</span></header><nav id="navigation"><span class="menu-button">▼</span><ul><li><a href="javascript:;">-</a><div class="sub-menu"><ul><li><a id="btnTheme" href="javascript:;">Tema Ayarları</a></li></ul></div></li><li><a href="index.html">Anasayfa</a></li><li><a href="./coaching/index.html">Koçluk</a></li><li><a href="./projects/index.html">Projeler</a></li><li><a href="./notes/index.html">Kendime Notlar</a></li><li><a href="./about-me.html">Hakkımda</a></li></ul></nav><main><article><header><h1>Gulp HTML Link Düzenleyicisi</h1></header><p>Kendi sitemi enginær site motoru ile oluştururken SEO kısmında çok sıradışı bir ihtiyacım olduğunu farkkettim. Bu yüzden kendim için bir gulp eklentisi geliştirdim. Bu plugin ile bir HTML dosyasındaki <strong>a</strong> elementlerine <strong>rel</strong> ve <strong>target</strong> eklemesi yapılabiliniyor.</p><h2>Motivasyon</h2><p>Enginær&#39;ı geliştirirken SEO ile ilgili bir konu hiç aklıma gelmedi. Ancak kendi sitemde kullanırken (yani bu site) SEO nun ne kadar önemli olduğunu hatırladım. Bir gulp eklentisi buldum sitemap.xml dosyasını oluşturdum. Enginær&#39;ın şablonlarını özelleştirerek link ayarlamalarını yaptım ancak en sonunda siteden dışarı doğru giden bağlantıların <strong>rel</strong> linki olmadığını ve bu linklerinde sitenin içinde açılmasını engellemek için <strong>target</strong> özelliği eklemem gerekliliğini belirledim. Ancak bunu yapan bir eklenti bulamadım.</p><p>Aradığım eklentiyi bulamadığım zaman, aklımın içindeki bir ses bunu kendimin geliştirmesinin eğlenceli olabileceğini söyledi. Bu sefer bu sesi takip etmek istedim ve kolları sıvadım. Amacım bir HTML dosyasındaki bazı <strong>a</strong> elementlerine <strong>rel</strong> ve <strong>target</strong> özelliği eklemek.</p><h2>Zorluklar</h2><p><img src="../image/gulp-html-anchor-rewriter_tech.png?v=b5ea8dc3eb5ed5e938a3c8a7f8c095e5" alt="NodeJS, Mocha, Chai, GitHub Actions, SonarCloud" title="Proje için kullanılan teknolojiler"></p><p>Daha önce sadece Enginær ile gulp eklentisi geliştirme tecrübem olmuştu. Bu proje biraz daha kolay olacağı için kendimce kendime bir zorluk çıkartmam gerektiğini düşündüm ve bir gulp eklentisinin nasıl yazılması gerektiği ile ilgili araştırmalara başladım. Gulp&#39;ın GitHub adresinde çok güzel bir doküman buldum. Bu dokümanı takip ederek güzel bir eklenti yazabileceğimi düşünerek işe başladım.</p><p>Dokümanda eklentilerin mutlaka test edilmesi gerektiği yazıyordu. NodeJS ya da JavaScript ile daha önce hiç unit test yazmamış biri olarak bu da güzel bir zorluk olacağı için devam ettim. <strong>Mocha</strong> ve <strong>Chai</strong> kütüphanelerini araştırmalarımda buldum ve bunları biraz araştırdıktan sonra çok zor olmadıklarına karar vererek devem ettim. Eklentiyi geliştirdim, üstüne bir iki düzeltme de yaptım ve sonrasında her unit test eklediğim projemde olduğu gibi projenin code coverage oranını merak ettim. Bunu da <strong>IstanbulJS</strong> ile sağladm.</p><p>Projenin basit olması ve hızlı ilerlemesinden sonra bir ekleme daha yapmam gerektiğini düşündüm. Madem projeyi bitirdim o zaman bir CI/CD yapısı ve buna entegre bir statik kod analizi eklemenin öğretici olacağını düşündüm. Statik kod analizi dediğimde ilk aklıma gelen <strong>SonarQube</strong> olduğu için proje de <strong>SonarCloud</strong> tercih ettim. Zaten <strong>GitHub Actions</strong> ile oluşturduğum pipeline da otomatik olarak <strong>SonarCloud</strong>&#39;a entegre olunca ışık hızında halletmiş oldum.</p><p>Bir iki tarama sonrasında, hesaplanan code coverage değerlerini <strong>SonarCloud</strong>&#39;a akmadığını gördüm. Bunun içinde ufak bir araştırma sonrasında, otomatik yerine <strong>GitHub Actions</strong> içerisinden manuel işlenmesi ile de bu sorunu çözmüş oldum.</p><p>Gün sonunda çok sıradışı bir ihtiyaç ile yola çıktım ama öğrendiklerim ve kazandığım tecrübe çok değerli. Bunun gibi projeler yapmaya ve kendimi zorlamaya devam ediyor olacağım.</p><p>Projeyi herkesin kullanabilmesi için <a href="https://github.com/fatihtatoglu/gulp-html-anchor-rewriter/blob/master/LICENSE," title="Projenin MIT Lisansı" rel="noopener noreferrer" target="_blank">MIT</a> lisansı ile yayına aldım. Erişiminin kolay olması için de <a href="https://www.npmjs.com/package/gulp-html-anchor-rewriter" title="Projenin NPM adresi" rel="noopener noreferrer" target="_blank">NPM</a> üzerinden herkesin kullanımına açtım. İstediğiniz gibi kullanabilirsiniz. Eğer destek olmak veya katkı sağlamak isterseniz projenin <a href="https://github.com/fatihtatoglu/gulp-html-anchor-rewriter" title="Projenin GitHub Adresi" rel="noopener noreferrer" target="_blank">GitHub</a> adresini ziyaret edebilir ve yıldız bırakabilirsiniz. Kullanım sırasındaki sorunları da mutlaka issue olarak girmenizi de rica ediyorum.</p><h2>Referanslar</h2><ol><li><a href="https://github.com/gulpjs/gulp/blob/master/docs/writing-a-plugin/README.md" title="Writing a Gulp Plugin" rel="noopener noreferrer" target="_blank">Writing a Gulp Plugin</a></li><li><a href="https://github.com/SonarSource/sonarcloud-github-action" title="Scan your code with SonarCloud" rel="noopener noreferrer" target="_blank">Scan your code with SonarCloud</a></li><li><a href="https://asus-aics.github.io/DeveloperGuide/pages/020_sonar_cloud/" title="SonarCloud HowTo" rel="noopener noreferrer" target="_blank">SonarCloud HowTo</a></li></ol><footer>By <a rel="author" href="./about/me.html">Fatih Tatoğlu</a> - <time pubdate datetime="2022-04-08T00:00:00+0000" title="08.04.2022">08.04.2022</time></footer></article></main><footer><span class="credits"><a href="https://github.com/fatihtatoglu/" target="_new" rel="nofollow" title="Fatih Tatoğlu">Fatih Tatoğlu</a> &copy; 1985</span></footer><div id="pnlThemeDialog" class="dialog"><div class="dialog-box"><div class="dialog-content"><header><span>Theme Options</span></header><main><table style="margin: auto;"><thead><th style="width: 150px;">Colors</th></thead><tbody><tr><td style="text-align: left; padding-left: 25%;"><input id="rbColoraqua" name="color" type="radio" value="aqua"> <label for="rbColoraqua">Aqua</label><br><input id="rbColorblack" name="color" type="radio" value="black"> <label for="rbColorblack">Black</label><br><input id="rbColorblue" name="color" type="radio" value="blue"> <label for="rbColorblue">Blue</label><br><input id="rbColorwhite" name="color" type="radio" value="white"> <label for="rbColorwhite">White</label></td></tr></tbody></table><br></main><footer><button id="btnThemeDialogOK" class="default" accesskey="o"><u>O</u>K</button></footer></div></div></div></body></html>