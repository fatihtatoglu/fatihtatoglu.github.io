@layer components {
  article.post .post-comments {
    @apply border border-[var(--border)] rounded-2xl bg-[var(--bg-elev)] p-6 flex flex-col gap-6;
  }

  .post-comments__header {
    @apply flex flex-wrap gap-4 justify-between items-start;
  }

  .post-comments__title {
    @apply m-0 text-[1.55rem] font-semibold text-[var(--ink)];
  }

  .post-comments__subtitle {
    @apply mt-[0.4rem] mb-0 text-[0.95rem] text-[var(--ink-dim)];
    font-family: var(--font-body);
  }

  .post-comments__count {
    @apply flex items-center gap-[0.4rem] text-[0.75rem] uppercase tracking-[0.15em] text-[var(--ink-dim)];
    font-family: var(--font-mono);
  }

  .post-comments__list {
    @apply flex flex-col gap-4;
  }

  .post-comments__empty {
    @apply m-0 text-[0.95rem] text-[var(--ink-dim)] italic;
  }

  .comment-card {
    @apply border border-[var(--border)] rounded-2xl bg-[var(--bg-elev)] px-5 py-4 flex flex-col gap-3;
  }

  .comment-card__header {
    @apply flex items-center gap-2;
  }

  .comment-card__name {
    @apply font-semibold text-[var(--ink)];
  }

  .comment-card__badge {
    @apply text-[0.65rem] uppercase tracking-[0.12em] text-[var(--brand-700)] px-2 py-[0.2rem] rounded-2xl;
    background: color-mix(in srgb, var(--brand-500) 15%, transparent);
    font-family: var(--font-mono);
  }

  .comment-card__message {
    @apply m-0 text-[var(--ink)];
    font-family: var(--font-body);
  }

  .comment-card__actions {
    @apply flex flex-wrap gap-2;
  }

  .comment-card__action {
    --btn-icon-size: 34px;
  }

  .comment-card__count {
    @apply text-[0.7rem] tracking-[0.08em];
    font-family: var(--font-mono);
  }

  .post-comments__form {
    @apply border-t border-[var(--border)] pt-6 flex flex-col gap-4;
  }

  .post-comments__fields {
    @apply grid gap-4 grid-cols-1;
  }

  .post-comments__field {
    @apply flex flex-col gap-2 text-[var(--ink)];
    font-family: var(--font-body);
  }

  .post-comments__field span {
    @apply text-[0.9rem] font-semibold text-[var(--ink)] tracking-[0.03em];
  }

  .post-comments__field input,
  .post-comments__field textarea {
    @apply border border-[var(--border)] rounded-2xl px-[0.95rem] py-[0.75rem] bg-[var(--bg)] text-[var(--ink)];
    font-family: var(--font-body);
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
  }

  .post-comments__field input:focus-visible,
  .post-comments__field textarea:focus-visible {
    @apply outline-none border-[var(--brand-400)];
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--brand-400) 20%, transparent);
  }

  .post-comments__actions {
    @apply flex flex-wrap items-center justify-end gap-3;
  }

  .post-comments__status {
    @apply text-[0.85rem] text-[var(--muted)];
  }

  .post-comments__submit {
    @apply min-w-[160px];
  }

  .post-comments__status[data-tone="success"] {
    @apply text-[var(--ok)];
  }

  .post-comments__status[data-tone="error"] {
    @apply text-[var(--err)];
  }

  .post-comments__captcha {
    @apply flex;
  }

  @media (min-width: 640px) {
    .post-comments__fields {
      @apply grid-cols-2;
    }

    .post-comments__field--full {
      @apply col-span-2;
    }
  }
}
